{"version":3,"file":"status_page.bundle.js","sources":["D:\\Backup\\kibana\\optimize\\bundles\\status_page.entry.js","D:\\Backup\\kibana\\src\\core_plugins\\status_page\\public\\status_page.js","D:\\Backup\\kibana\\src\\core_plugins\\status_page\\public\\status_page_metric.js","D:\\Backup\\kibana\\src\\core_plugins\\status_page\\public\\lib\\format_number.js","D:\\Backup\\kibana\\src\\core_plugins\\status_page\\public\\status_page_metric.html","D:\\Backup\\kibana\\src\\core_plugins\\status_page\\public\\status_page.less","D:\\Backup\\kibana\\src\\core_plugins\\status_page\\public\\status_page.html"],"sourcesContent":["'use strict';\n\n/**\n * Test entry file\n *\n * This is programatically created and updated, do not modify\n *\n * context: {\n  \"env\": \"development\",\n  \"sourceMaps\": \"#cheap-source-map\",\n  \"kbnVersion\": \"7.0.0-alpha1\",\n  \"buildNum\": 8467,\n  \"plugins\": [\n    \"console\",\n    \"dev_mode\",\n    \"elasticsearch\",\n    \"input_control_vis\",\n    \"kbn_doc_views\",\n    \"kbn_vislib_vis_types\",\n    \"kibana\",\n    \"markdown_vis\",\n    \"metric_vis\",\n    \"metrics\",\n    \"my-new-plugin\",\n    \"region_map\",\n    \"spy_modes\",\n    \"state_session_storage_redirect\",\n    \"status_page\",\n    \"table_vis\",\n    \"tagcloud\",\n    \"testbed\",\n    \"tests_bundle\",\n    \"tile_map\",\n    \"timelion\",\n    \"vega\"\n  ]\n}\n */\n\nrequire('ui/chrome');\nrequire('plugins/status_page/status_page');\nrequire('plugins/console/hacks/register');\nrequire('plugins/kibana/dev_tools/hacks/hide_empty_tools');\nrequire('plugins/my-new-plugin/hack');\nrequire('plugins/testbed');\nrequire('plugins/timelion/lib/panel_registry');\nrequire('plugins/timelion/panels/timechart/timechart');\nrequire('ui/chrome').bootstrap();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./optimize/bundles/status_page.entry.js\n// module id = 2265\n// module chunks = 4","'use strict';\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _notify = require('ui/notify');\n\nrequire('ui/autoload/styles');\n\nrequire('plugins/status_page/status_page_metric');\n\nrequire('plugins/status_page/status_page.less');\n\nvar _modules = require('ui/modules');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar chrome = require('ui/chrome').setRootTemplate(require('plugins/status_page/status_page.html')).setRootController('ui', function ($http, buildNum, buildSha) {\n  var ui = this;\n  ui.loading = false;\n\n  ui.buildInfo = {\n    num: buildNum,\n    sha: buildSha.substr(0, 8)\n  };\n\n  ui.refresh = function () {\n    ui.loading = true;\n\n    // go ahead and get the info you want\n    return $http.get(chrome.addBasePath('/api/status')).then(function (resp) {\n\n      if (ui.fetchError) {\n        ui.fetchError.clear();\n        ui.fetchError = null;\n      }\n\n      var data = resp.data;\n      var metrics = data.metrics;\n      if (metrics) {\n        ui.metrics = [{\n          name: 'Heap Total',\n          value: _lodash2.default.get(metrics, 'process.mem.heap_max_in_bytes'),\n          type: 'byte'\n        }, {\n          name: 'Heap Used',\n          value: _lodash2.default.get(metrics, 'process.mem.heap_used_in_bytes'),\n          type: 'byte'\n        }, {\n          name: 'Load',\n          value: [_lodash2.default.get(metrics, 'os.cpu.load_average.1m'), _lodash2.default.get(metrics, 'os.cpu.load_average.5m'), _lodash2.default.get(metrics, 'os.cpu.load_average.15m')],\n          type: 'float'\n        }, {\n          name: 'Response Time Avg',\n          value: _lodash2.default.get(metrics, 'response_times.avg_in_millis'),\n          type: 'ms'\n        }, {\n          name: 'Response Time Max',\n          value: _lodash2.default.get(metrics, 'response_times.max_in_millis'),\n          type: 'ms'\n        }, {\n          name: 'Requests Per Second',\n          value: _lodash2.default.get(metrics, 'requests.total') * 1000 / _lodash2.default.get(metrics, 'collection_interval_in_millis')\n        }];\n      }\n\n      ui.name = data.name;\n      ui.statuses = data.status.statuses;\n\n      var overall = data.status.overall;\n      if (!ui.serverState || ui.serverState !== overall.state) {\n        ui.serverState = overall.state;\n        ui.serverStateMessage = overall.title;\n      }\n    }).catch(function () {\n      if (ui.fetchError) return;\n      ui.fetchError = _notify.notify.error('Failed to request server ui. Perhaps your server is down?');\n      ui.metrics = ui.statuses = ui.overall = null;\n    }).then(function () {\n      ui.loading = false;\n    });\n  };\n\n  ui.refresh();\n});\n\n_modules.uiModules.get('kibana').config(function (appSwitcherEnsureNavigationProvider) {\n  appSwitcherEnsureNavigationProvider.forceNavigation(true);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/core_plugins/status_page/public/status_page.js\n// module id = 2266\n// module chunks = 4","'use strict';\n\nvar _format_number = require('./lib/format_number');\n\nvar _format_number2 = _interopRequireDefault(_format_number);\n\nvar _modules = require('ui/modules');\n\nvar _status_page_metric = require('plugins/status_page/status_page_metric.html');\n\nvar _status_page_metric2 = _interopRequireDefault(_status_page_metric);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_modules.uiModules.get('kibana', []).filter('statusMetric', function () {\n  return function (input, type) {\n    var metrics = [].concat(input);\n    return metrics.map(function (metric) {\n      return (0, _format_number2.default)(metric, type);\n    }).join(', ');\n  };\n}).directive('statusPageMetric', function () {\n  return {\n    restrict: 'E',\n    template: _status_page_metric2.default,\n    scope: {\n      metric: '='\n    },\n    controllerAs: 'metric'\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/core_plugins/status_page/public/status_page_metric.js\n// module id = 2267\n// module chunks = 4","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = formatNumber;\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _numeral = require('numeral');\n\nvar _numeral2 = _interopRequireDefault(_numeral);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction formatNumber(num, which) {\n  var format = '0.00';\n  var postfix = '';\n  switch (which) {\n    case 'time':\n      return (0, _moment2.default)(num).format('HH:mm:ss');\n    case 'byte':\n      format += ' b';\n      break;\n    case 'ms':\n      postfix = ' ms';\n      break;\n    case 'integer':\n      format = '0';\n      break;\n  }\n  return (0, _numeral2.default)(num).format(format) + postfix;\n}\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/core_plugins/status_page/public/lib/format_number.js\n// module id = 2268\n// module chunks = 4","module.exports = \"<div class=\\\"status_metric_wrapper col-md-4\\\">\\r\\n  <div class=\\\"content\\\">\\r\\n    <h3 class=\\\"title\\\">{{ metric.name }}</h3>\\r\\n    <h4 class=\\\"average\\\">{{ metric.value | statusMetric: metric.type}}</h4>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/core_plugins/status_page/public/status_page_metric.html\n// module id = 2269\n// module chunks = 4","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/core_plugins/status_page/public/status_page.less\n// module id = 2270\n// module chunks = 4","module.exports = \"<div data-test-subj=\\\"statusPageContainer\\\" class=\\\"container overall_state_default overall_state_{{ui.serverState}}\\\">\\r\\n  <header>\\r\\n    <h1>\\r\\n      Status: <span class=\\\"overall_state_color\\\">{{ ui.serverStateMessage }}</span>\\r\\n      <i class=\\\"fa overall_state_color state_icon\\\" />\\r\\n      <span class=\\\"pull-right\\\">\\r\\n        {{ ui.name }}\\r\\n      </span>\\r\\n    </h1>\\r\\n  </header>\\r\\n\\r\\n  <div class=\\\"row metrics_wrapper\\\">\\r\\n    <div ng-repeat=\\\"metric in ui.metrics\\\">\\r\\n      <status-page-metric metric=\\\"metric\\\"></status-page-metric>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"row statuses_wrapper\\\">\\r\\n    <h3>Status Breakdown</h3>\\r\\n\\r\\n    <div ng-if=\\\"!ui.statuses && ui.loading\\\" class=\\\"statuses_loading\\\">\\r\\n      <span class=\\\"spinner\\\"></span>\\r\\n    </div>\\r\\n\\r\\n    <h4 ng-if=\\\"!ui.statuses && !ui.loading\\\" class=\\\"statuses_missing\\\">\\r\\n      No status information available\\r\\n    </h4>\\r\\n\\r\\n    <table class=\\\"statuses\\\" data-test-subj=\\\"statusBreakdown\\\" ng-if=\\\"ui.statuses\\\">\\r\\n      <tr class=\\\"row\\\">\\r\\n        <th class=\\\"col-xs-4\\\" scope=\\\"col\\\">ID</th>\\r\\n        <th class=\\\"col-xs-8\\\" scope=\\\"col\\\">Status</th>\\r\\n      </tr>\\r\\n      <tr\\r\\n        ng-repeat=\\\"status in ui.statuses\\\"\\r\\n        class=\\\"status status_state_default status_state_{{status.state}} row\\\">\\r\\n\\r\\n        <td class=\\\"col-xs-4 status_id\\\">{{status.id}}</td>\\r\\n        <td class=\\\"col-xs-8 status_message\\\">\\r\\n          <i class=\\\"fa status_state_color status_state_icon\\\" />\\r\\n          {{status.message}}\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n  </div>\\r\\n\\r\\n  <footer class=\\\"row\\\">\\r\\n    <div class=\\\"col-xs-12 text-right build-info\\\">\\r\\n      Build {{::ui.buildInfo.num}}, Commit SHA {{::ui.buildInfo.sha}}\\r\\n    </div>\\r\\n  </footer>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/core_plugins/status_page/public/status_page.html\n// module id = 2271\n// module chunks = 4"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnCA;;;;;;;ACAA;;;;;;;ACAA;;;;A","sourceRoot":""}